{"ast":null,"code":"import React,{useState,useRef}from'react';import'./App.css';import Teddy from'./img/cat-0.gif';import Cat1 from'./img/cat-1.gif';import Cat2 from'./img/cat-2.gif';import Cat3 from'./img/cat-3.gif';import Cat4 from'./img/cat-4.gif';import Cat5 from'./img/cat-5.gif';import YesCat from'./img/cat-yes.gif';import emailjs from'emailjs-com';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const serviceId=process.env.REACT_APP_SERVICE_ID;const templateID=process.env.REACT_APP_TEMPLATE_ID;const publicKey=process.env.REACT_APP_PUBLIC_KEY;const gfName=process.env.REACT_APP_NAME;const MAX_IMAGES=5;const App=()=>{const[play,setPlay]=useState(true);const[noCount,setNoCount]=useState(0);// const [yesCount, setYesCount] = useState(0);\nlet yesCount=0;const[title,setTitle]=useState(\"\".concat(gfName,\" Will You Be My Girlfriend?\"));const ImgData=[Teddy,Cat1,Cat2,Cat3,Cat4,Cat5,YesCat];const[catImage,setCatImage]=useState(ImgData[noCount]);const handleYesClick=()=>{// setYesCount(1);\nyesCount+=1;updateStateAndImage(6);setTitle(\"Yay!! I Love You Cupcake \\u{1F48B}\");yesButtonRef.current.style.display='none';// Hide \"Yes\" button after clicking\nnoButtonRef.current.style.display='none';// Hide \"Yes\" button after clicking\nsendEmail();};const handleNoClick=()=>{if(play){const newCount=Math.min(noCount+1,MAX_IMAGES);console.log(newCount);setNoCount(newCount);updateStateAndImage(newCount);updateNoButtonText(newCount);// Add this line to update \"No\" button text\n}};const updateStateAndImage=imageIndex=>{// setTitle(newTitle);\n// setButtonsHidden(hideButtons);\nresizeYesButton();updateNoButtonText(imageIndex);ChangeImage(imageIndex);console.log(imageIndex);if(imageIndex===MAX_IMAGES){setPlay(false);sendEmail();hideNoButton();// Call the function to hide the \"No\" button after the last image\n}};const resizeYesButton=()=>{const fontSize=parseFloat(window.getComputedStyle(yesButtonRef.current).fontSize);yesButtonRef.current.style.fontSize=\"\".concat(fontSize*1.6,\"px\");};const generateMessage=count=>{const messages=[\"Are you sure?\",\"Cupcake please\",\"Don't do this to me baby :(\",\"You're breaking my heart\",\"I'm gonna cry...\"];return messages[Math.min(count,messages.length-1)];};const updateNoButtonText=count=>{noButtonRef.current.innerHTML=generateMessage(count);};const ChangeImage=imageIndex=>{setCatImage(ImgData[imageIndex]);// setButtonsHidden(imageIndex === MAX_IMAGES); // Hide only the \"No\" button after the last image\n};const hideNoButton=()=>{noButtonRef.current.style.display='none';// Hide \"No\" button after reaching the last image\n};// const [buttonsHidden, setButtonsHidden] = useState(false);\nconst yesButtonRef=useRef();const noButtonRef=useRef();const sendEmail=()=>{emailjs.send({serviceId},{templateID},{yesCount,noCount// other variables you might need in your template\n},{publicKey}).then(response=>{console.log('Email sent:',response);}).catch(error=>{console.error('Email error:',error);});};return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"cat-img\",src:catImage,alt:\"Picture of a cat\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn--yes\",onClick:handleYesClick,ref:yesButtonRef,children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn--no\",onClick:handleNoClick,ref:noButtonRef,children:\"No\"})]})]});};export default App;","map":{"version":3,"names":["React","useState","useRef","Teddy","Cat1","Cat2","Cat3","Cat4","Cat5","YesCat","emailjs","jsx","_jsx","jsxs","_jsxs","serviceId","process","env","REACT_APP_SERVICE_ID","templateID","REACT_APP_TEMPLATE_ID","publicKey","REACT_APP_PUBLIC_KEY","gfName","REACT_APP_NAME","MAX_IMAGES","App","play","setPlay","noCount","setNoCount","yesCount","title","setTitle","concat","ImgData","catImage","setCatImage","handleYesClick","updateStateAndImage","yesButtonRef","current","style","display","noButtonRef","sendEmail","handleNoClick","newCount","Math","min","console","log","updateNoButtonText","imageIndex","resizeYesButton","ChangeImage","hideNoButton","fontSize","parseFloat","window","getComputedStyle","generateMessage","count","messages","length","innerHTML","send","then","response","catch","error","className","children","src","alt","type","onClick","ref"],"sources":["/data/data/com.termux/files/home/Val/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport './App.css';\nimport Teddy from './img/cat-0.gif';\nimport Cat1 from './img/cat-1.gif';\nimport Cat2 from './img/cat-2.gif';\nimport Cat3 from './img/cat-3.gif';\nimport Cat4 from './img/cat-4.gif';\nimport Cat5 from './img/cat-5.gif';\nimport YesCat from './img/cat-yes.gif';\nimport emailjs from 'emailjs-com';\n\nconst serviceId = process.env.REACT_APP_SERVICE_ID;\n  const templateID = process.env.REACT_APP_TEMPLATE_ID;\n  const publicKey = process.env.REACT_APP_PUBLIC_KEY;\n  const gfName = process.env.REACT_APP_NAME;\nconst MAX_IMAGES = 5;\n\nconst App = () => {\n  \n  const [play, setPlay] = useState(true);\n  const [noCount, setNoCount] = useState(0);\n  // const [yesCount, setYesCount] = useState(0);\n  let yesCount = 0;\n  const [title, setTitle] = useState(`${gfName} Will You Be My Girlfriend?`)\n  const ImgData = [Teddy, Cat1, Cat2, Cat3, Cat4, Cat5, YesCat];\n \n  const [catImage, setCatImage] = useState(ImgData[noCount]);\n\n  const handleYesClick = () => {\n    // setYesCount(1);\n    yesCount += 1;\n    updateStateAndImage(6);\n    setTitle(\"Yay!! I Love You Cupcake \\u{1F48B}\");\n    yesButtonRef.current.style.display = 'none'; // Hide \"Yes\" button after clicking\n    noButtonRef.current.style.display = 'none'; // Hide \"Yes\" button after clicking\n    \n    sendEmail();\n  };\n\n  const handleNoClick = () => {\n  if (play) {\n    const newCount = Math.min(noCount + 1, MAX_IMAGES);\n    console.log(newCount);\n    setNoCount(newCount);\n    updateStateAndImage(newCount);\n    updateNoButtonText(newCount); // Add this line to update \"No\" button text\n    \n    }\n};\n\n  const updateStateAndImage = (imageIndex) => {\n    // setTitle(newTitle);\n    // setButtonsHidden(hideButtons);\n    resizeYesButton();\n    updateNoButtonText(imageIndex);\n    ChangeImage(imageIndex);\n    console.log(imageIndex);\n    if (imageIndex === MAX_IMAGES) {\n      setPlay(false);\n      sendEmail();\n      hideNoButton(); // Call the function to hide the \"No\" button after the last image\n    }\n  };\n\n  const resizeYesButton = () => {\n    const fontSize = parseFloat(window.getComputedStyle(yesButtonRef.current).fontSize);\n    yesButtonRef.current.style.fontSize = `${fontSize * 1.6}px`;\n  };\n\n  const generateMessage = (count) => {\n    const messages = [\n      \"Are you sure?\",\n      \"Cupcake please\",\n      \"Don't do this to me baby :(\",\n      \"You're breaking my heart\",\n      \"I'm gonna cry...\",\n    ];\n\n    return messages[Math.min(count, messages.length - 1)];\n  };\n\n  const updateNoButtonText = (count) => {\n    noButtonRef.current.innerHTML = generateMessage(count);\n  };\n\n  const ChangeImage = (imageIndex) => {\n    setCatImage(ImgData[imageIndex]);\n    // setButtonsHidden(imageIndex === MAX_IMAGES); // Hide only the \"No\" button after the last image\n  };\nconst hideNoButton = () => {\n  noButtonRef.current.style.display = 'none'; // Hide \"No\" button after reaching the last image\n};\n  // const [buttonsHidden, setButtonsHidden] = useState(false);\n\n  const yesButtonRef = useRef();\n  const noButtonRef = useRef();\n  \n  const sendEmail = () => {\n    emailjs\n      .send({serviceId},{templateID}, {\n        yesCount,\n        noCount,\n        // other variables you might need in your template\n      }, {publicKey})\n      .then((response) => {\n        console.log('Email sent:', response);\n      })\n      .catch((error) => {\n        console.error('Email error:', error);\n      });\n  };\n\n  return (\n    <main className=\"container\">\n      <img className=\"cat-img\" src={catImage} alt=\"Picture of a cat\" />\n      <p className=\"title\">{title}</p>\n      <div>\n        <button type=\"button\" className=\"btn btn--yes\" onClick={handleYesClick} ref={yesButtonRef}>\n          Yes\n        </button>\n        <button type=\"button\" className=\"btn btn--no\" onClick={handleNoClick} ref={noButtonRef}>\n          No\n        </button>\n      </div>\n    </main>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}